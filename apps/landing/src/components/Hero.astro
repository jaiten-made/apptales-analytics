---
/** Basic reusable Hero component */
interface Props {
  title?: string;
  subtitle?: string;
  primaryHref?: string;
  primaryLabel?: string;
  secondaryHref?: string;
  secondaryLabel?: string;
}

const {
  title = "Turn first-time experiences into repeatable ones.",
  subtitle = "Understand how users experience your product, uncover obstacles, and guide them to reach their goals without complex analytics.",
} = Astro.props as Props;
import SubscribeForm from "../components/SubscribeForm.tsx";

// split title around the first occurrence of "repeatable"
const highlightWord = "repeatable";
let titleBefore = title;
let titleAfter = "";
if (title.includes(highlightWord)) {
  const idx = title.indexOf(highlightWord);
  titleBefore = title.slice(0, idx);
  titleAfter = title.slice(idx + highlightWord.length);
}
---

<section
  class="relative py-8 px-8 min-h-[calc(100vh-4rem)] bg-[radial-gradient(circle_at_40%_30%,#ffffff_0%,#f3f4f6_55%,#e5e7eb_100%)]"
>
  <div
    class="w-full gap-8 container mx-auto flex flex-col lg:flex-row items-center justify-center min-h-[calc(100vh-4rem)]"
  >
    <!-- Left content -->
    <div class="flex-1 flex flex-col justify-center">
      <h1
        class="text-4xl sm:text-5xl lg:text-6xl font-bold tracking-tight -translate-y-px [letter-spacing:-0.02em] leading-tight mb-4"
      >
        {titleBefore}
        {
          title.includes(highlightWord) && (
            <span class="inline-block align-middle">
              <span class="-skew-x-4 bg-primary text-white rounded px-2 py-0.5 inline-block">
                <span class="skew-x-4 inline-block">{highlightWord}</span>
              </span>
            </span>
          )
        }
        {titleAfter}
      </h1>
      {
        subtitle && (
          <p class="mx-auto mb-8 text-base text-slate-600 leading-relaxed">
            {subtitle}
          </p>
        )
      }
      <SubscribeForm client:load />
    </div>
    <!-- Right content -->
    <div class="flex-1 flex items-center justify-center">
      <picture class="border-primary border-1 rounded-lg overflow-hidden">
        <source src="/images/hero-image.webp" type="image/webp" />
        <img
          class="border-primary border-1 rounded-lg"
          src="/images/hero-image.png"
          alt="Hero graphic illustrating product workflow"
          loading="eager"
          decoding="async"
          fetchpriority="high"
        />
      </picture>
    </div>
  </div>
</section>
